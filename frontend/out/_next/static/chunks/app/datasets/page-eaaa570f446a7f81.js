(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{4331:(e,t,s)=>{"use strict";s.d(t,{J:()=>l,X:()=>i});var a=s(5155),n=s(2115);let r=(0,n.createContext)(null);function l(){let e=(0,n.useContext)(r);if(!e)throw Error("useDragDrop must be used within a DragDropProvider");return e}function i(e){let{children:t}=e,[s,l]=(0,n.useState)(!1),[i,d]=(0,n.useState)(null),o=(0,n.useCallback)((e,t)=>{e.preventDefault(),e.stopPropagation(),l(!0),d(t)},[]),c=(0,n.useCallback)((e,t)=>{e.preventDefault(),e.stopPropagation(),i===t&&(l(!1),d(null))},[i]),u=(0,n.useCallback)((e,t)=>{e.preventDefault(),e.stopPropagation(),l(!0),d(t)},[]),m=(0,n.useCallback)((e,t,s)=>{e.preventDefault(),e.stopPropagation(),l(!1),d(null);let a=e.dataTransfer.files;a&&a.length>0&&s(a[0])},[]);return(0,a.jsx)(r.Provider,{value:{isDragging:s,activeDropZone:i,setActiveDropZone:d,handleDragEnter:o,handleDragLeave:c,handleDragOver:u,handleDrop:m},children:t})}},4849:(e,t,s)=>{Promise.resolve().then(s.bind(s,7003))},7003:(e,t,s)=>{"use strict";s.d(t,{DatasetsView:()=>eG});var a=s(5155),n=s(7777),r=s(3999);function l(e){let{data:t,className:s,chartHeightPx:l=96}=e,i=Math.max(...t);return(0,a.jsx)("div",{className:(0,r.cn)("flex w-64 items-end",s),style:{height:l},children:t.map((e,t)=>{var s,d,o;let{start:c,end:u}=(e=>{let t=new Date,s=new Date(t);s.setDate(t.getDate()-7*(11-e));let a=new Date(s);return a.setDate(s.getDate()-6),{start:a.toLocaleDateString(void 0,{month:"short",day:"numeric"}),end:s.toLocaleDateString(void 0,{month:"short",day:"numeric"})}})(t);return(0,a.jsxs)(n.m_,{delayDuration:0,children:[(0,a.jsx)(n.k$,{asChild:!0,children:(0,a.jsx)("div",{className:(0,r.cn)("flex flex-1 items-end px-0.5 brightness-100 transition hover:brightness-75 dark:hover:brightness-150"),style:{height:l},children:(0,a.jsx)("div",{className:"h-full w-full rounded-sm ".concat((e=>{switch(e){case 0:default:return"bg-muted";case 1:return"bg-green-200 dark:bg-green-900";case 2:return"bg-green-300 dark:bg-green-700";case 3:return"bg-green-400 dark:bg-green-600";case 4:return"bg-green-500 dark:bg-green-500"}})(0===e?0:e<=.25*i?1:e<=.5*i?2:e<=.75*i?3:4)),style:{height:(s=e,d=i,o=l,0===d?4:Math.max(4,s/d*o))}})})}),(0,a.jsx)(n.ZI,{children:(0,a.jsxs)("div",{className:"text-xs",children:[(0,a.jsxs)("div",{className:"font-medium",children:[e," requests"]}),(0,a.jsxs)("div",{className:"text-muted-foreground",children:[c," - ",u]})]})})]},t)})})}var i=s(2115),d=s(2085);let o=(0,d.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:s,...n}=e;return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,r.cn)(o({variant:s}),t),...n})}function u(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"alert-description",className:(0,r.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...s})}var m=s(7649),x=s(7168);function h(e){let{...t}=e;return(0,a.jsx)(m.bL,{"data-slot":"alert-dialog",...t})}function f(e){let{...t}=e;return(0,a.jsx)(m.ZL,{"data-slot":"alert-dialog-portal",...t})}function p(e){let{className:t,...s}=e;return(0,a.jsx)(m.hJ,{"data-slot":"alert-dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function g(e){let{className:t,...s}=e;return(0,a.jsxs)(f,{children:[(0,a.jsx)(p,{}),(0,a.jsx)(m.UC,{"data-slot":"alert-dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...s})]})}function j(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function v(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function b(e){let{className:t,...s}=e;return(0,a.jsx)(m.hE,{"data-slot":"alert-dialog-title",className:(0,r.cn)("text-lg font-semibold",t),...s})}function N(e){let{className:t,...s}=e;return(0,a.jsx)(m.VY,{"data-slot":"alert-dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...s})}function y(e){let{className:t,...s}=e;return(0,a.jsx)(m.rc,{className:(0,r.cn)((0,x.r)(),t),...s})}function w(e){let{className:t,...s}=e;return(0,a.jsx)(m.ZD,{className:(0,r.cn)((0,x.r)({variant:"outline"}),t),...s})}var k=s(8482),D=s(7489);function C(e){let{className:t,orientation:s="horizontal",decorative:n=!0,...l}=e;return(0,a.jsx)(D.b,{"data-slot":"separator",decorative:n,orientation:s,className:(0,r.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...l})}var S=s(5452),A=s(4416);function z(e){let{...t}=e;return(0,a.jsx)(S.bL,{"data-slot":"sheet",...t})}function E(e){let{...t}=e;return(0,a.jsx)(S.ZL,{"data-slot":"sheet-portal",...t})}function $(e){let{className:t,...s}=e;return(0,a.jsx)(S.hJ,{"data-slot":"sheet-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function L(e){let{className:t,children:s,side:n="right",...l}=e;return(0,a.jsxs)(E,{children:[(0,a.jsx)($,{}),(0,a.jsxs)(S.UC,{"data-slot":"sheet-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-300","right"===n&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===n&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===n&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===n&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...l,children:[s,(0,a.jsxs)(S.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,a.jsx)(A.A,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function R(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"sheet-header",className:(0,r.cn)("flex flex-col gap-1.5 p-4",t),...s})}function q(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"sheet-footer",className:(0,r.cn)("mt-auto flex flex-col gap-2 p-4",t),...s})}function F(e){let{className:t,...s}=e;return(0,a.jsx)(S.hE,{"data-slot":"sheet-title",className:(0,r.cn)("text-foreground font-semibold",t),...s})}function _(e){let{className:t,...s}=e;return(0,a.jsx)(S.VY,{"data-slot":"sheet-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...s})}var I=s(7497),U=s(6715),M=s(5041),Z=s(1788),O=s(8898),J=s(2525),P=s(1243);function V(e){let{...t}=e;return(0,a.jsx)(S.bL,{"data-slot":"dialog",...t})}function T(e){let{...t}=e;return(0,a.jsx)(S.l9,{"data-slot":"dialog-trigger",...t})}function K(e){let{...t}=e;return(0,a.jsx)(S.ZL,{"data-slot":"dialog-portal",...t})}function B(e){let{...t}=e;return(0,a.jsx)(S.bm,{"data-slot":"dialog-close",...t})}function W(e){let{className:t,...s}=e;return(0,a.jsx)(S.hJ,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed -inset-1 z-50 bg-black/50","debug",t),...s})}function Q(e){let{className:t,children:s,showCloseButton:n=!0,...l}=e;return(0,a.jsxs)(K,{"data-slot":"dialog-portal",children:[(0,a.jsx)(W,{}),(0,a.jsxs)(S.UC,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...l,children:[s,n&&(0,a.jsxs)(S.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus-visible:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:outline-hidden focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(A.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function Y(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function H(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function G(e){let{className:t,...s}=e;return(0,a.jsx)(S.hE,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",t),...s})}function X(e){let{className:t,...s}=e;return(0,a.jsx)(S.VY,{"data-slot":"dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...s})}var ee=s(70),et=s(9852);function es(e){let{className:t,...s}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...s})}var ea=s(1442),en=s(2235);let er=ea.Ay$.object({name:ea.Ay$.string().min(1,{message:"A dataset name is required"}),url:ea.Ay$.string().pipe(ea.Ay$.preprocess(e=>""===e||e.startsWith("https://")||e.startsWith("http://")?e:"https://"+e,ea.Ay$.url({protocol:/^(https?)?$/,hostname:ea.Ay$.regexes.domain,error:e=>""===e.input?"The store URL is required":void 0}))),pat:ea.Ay$.string().min(1,{message:"The access token is required"}).regex(/^shpat_[0-9a-f]{32}$/,{error:()=>"Invalid access token format"}),description:ea.Ay$.string().optional()}),el=ea.Ay$.object({name:ea.Ay$.string().optional(),description:ea.Ay$.string().optional()}),ei={async getDatasets(){let e=await en.u.get("/api/v1/datasets"),t=await I.K.getJobs(),s=t.jobs.reduce((e,t)=>{let s=e.get(t.datasetName)||[];return e.set(t.datasetName,[...s,t]),e},new Map),a=t.jobs.reduce((e,t)=>{let s=e.get(t.datasetName)||new Set;return s.add(t.requesterEmail),e.set(t.datasetName,s),e},new Map),n=t.jobs.reduce((e,t)=>{var s;let a=(s=t.requestedTime,Math.floor((new Date().getTime()-s.getTime())/6048e5));if(a>=0&&a<12){let s=e.get(t.datasetName)||Array(12).fill(0);s[11-a]++,e.set(t.datasetName,s)}return e},new Map);return{datasets:e.datasets.map(e=>{var t,l;return{uid:e.uid,name:e.name,description:e.summary,size:(0,r.z3)(e.privateSize),type:e.private.split(".").pop()||"unknown",createdAt:new Date(e.createdAt),lastUpdated:new Date(e.updatedAt),accessRequests:0,permissions:[],usersCount:(null==(t=a.get(e.name))?void 0:t.size)||0,requestsCount:(null==(l=s.get(e.name))?void 0:l.length)||0,activityData:n.get(e.name)||Array(12).fill(0),source:e.source}})}},addShopifyDataset:e=>en.u.post("/api/v1/datasets/import-from-shopify",e),updateShopifyDataset:e=>{let{uid:t,data:s}=e;return en.u.put("/api/v1/datasets/update/".concat(t),s)},syncShopifyDataset:e=>en.u.put("/api/v1/datasets/sync-shopify-dataset/".concat(e),{}),openLocalDirectory:e=>en.u.get("/api/v1/datasets/open-local-directory/".concat(e))};var ed=s(7328),eo=s(221),ec=s(3717),eu=s(1154),em=s(4229),ex=s(2177),eh=s(6671);function ef(e){let{dataset:t}=e,s=(0,U.jE)(),n=(0,ex.mN)({resolver:(0,eo.u)(el),defaultValues:{name:t.name,description:t.description}}),{setError:r}=n,l=(0,M.n)({mutationFn:ei.updateShopifyDataset,onSuccess:()=>((0,eh.oR)("Updated dataset"),s.invalidateQueries({queryKey:["datasets"]})),onError:e=>{e instanceof ed.ZM&&r(e.loc,{message:e.message}),e instanceof ed.hD&&(0,eh.oR)("Error",{description:e.message})}}),{isPending:i}=l;return(0,a.jsxs)(V,{children:[(0,a.jsx)(T,{asChild:!0,children:(0,a.jsxs)(x.$,{variant:"outline",className:"w-full justify-start",children:[(0,a.jsx)(ec.A,{className:"h-4 w-4"}),"Update Dataset"]})}),(0,a.jsxs)(Q,{children:[(0,a.jsx)(Y,{children:(0,a.jsx)(G,{children:"Update Dataset"})}),(0,a.jsx)(ee.lV,{...n,children:(0,a.jsxs)("form",{onSubmit:n.handleSubmit(function(e){let s={...e,name:e.name!==t.name?e.name:void 0,description:e.description!==t.description?e.description:void 0};l.mutate({uid:t.uid,data:s})}),className:"flex flex-col gap-5",children:[(0,a.jsx)(ee.zB,{name:"name",render:e=>{let{field:s}=e;return(0,a.jsxs)(ee.eI,{children:[(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)(ee.lR,{children:"Dataset Name"}),(0,a.jsx)(ee.C5,{className:"absolute top-1 right-0"})]}),(0,a.jsx)(ee.MJ,{children:(0,a.jsx)(et.p,{placeholder:t.name,...s})})]})}}),(0,a.jsx)(ee.zB,{name:"description",render:e=>{let{field:s}=e;return(0,a.jsxs)(ee.eI,{children:[(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)(ee.lR,{children:"Description"}),(0,a.jsx)(ee.C5,{className:"absolute top-1 right-0"})]}),(0,a.jsx)(ee.MJ,{children:(0,a.jsx)(es,{placeholder:t.name,...s})})]})}}),(0,a.jsxs)(H,{children:[(0,a.jsx)(B,{asChild:!0,children:(0,a.jsx)(x.$,{type:"button",variant:"outline",onClick:()=>{n.reset()},disabled:i,children:"Cancel"})}),(0,a.jsx)(x.$,{type:"submit",disabled:i,children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eu.A,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(em.A,{className:"h-4 w-4"}),"Save Change"]})})]})]})})]})]})}function ep(e){let{dataset:t,open:s,onOpenChange:n}=e,[r,d]=(0,i.useState)(!1),[o,m]=(0,i.useState)(""),[f,p]=(0,i.useState)(!1),D=(0,U.jE)(),S=(0,M.n)({mutationFn:e=>{let{datasetName:t}=e;return I.K.deleteDataset(t)},onError:e=>{console.error(e)},onSuccess:()=>{D.invalidateQueries({queryKey:["datasets"]}),n(!1),eh.oR.success("Success",{description:"Removed dataset"})}}),A=async()=>{if(t){d(!0),m("");try{let e=await I.K.downloadDatasetPrivate(t.uid),s=await e.blob(),a=window.URL.createObjectURL(s),r=document.createElement("a");r.href=a;let l=e.headers.get("Content-Disposition"),i=null==l?void 0:l.match(/filename="(.+)"/);r.download=i?i[1]:"".concat(t.name,".csv"),document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(a),document.body.removeChild(r),eh.oR.success("Dataset downloaded successfully"),n(!1)}catch(e){m(e instanceof Error?e.message:"Failed to download dataset")}finally{d(!1)}}};return t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(z,{open:s,onOpenChange:n,children:(0,a.jsxs)(L,{className:"scrollbar-thin overflow-y-auto",children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(F,{className:"text-2xl",children:t.name}),(0,a.jsx)(_,{children:t.description})]}),(0,a.jsxs)("div",{className:"flex-1",children:[o&&(0,a.jsx)(c,{variant:"destructive",className:"mb-4",children:(0,a.jsx)(u,{className:"break-all",children:o})}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 px-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Format"}),(0,a.jsx)("div",{className:"font-medium",children:t.type.toUpperCase()})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Size"}),(0,a.jsx)("div",{className:"font-medium",children:t.size})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Created"}),(0,a.jsx)("div",{className:"font-medium",children:new Date(t.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Last Updated"}),(0,a.jsx)("div",{className:"font-medium",children:new Date(t.lastUpdated).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})})]})]}),(0,a.jsxs)(k.Zp,{children:[(0,a.jsx)(k.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(k.ZB,{className:"text-sm font-medium",children:"Activity Overview"}),(0,a.jsx)("div",{className:"text-muted-foreground text-xs",children:"Last 12 weeks"})]})}),(0,a.jsxs)(k.Wu,{children:[(0,a.jsx)(l,{data:t.activityData,className:"w-full",chartHeightPx:128}),(0,a.jsxs)("div",{className:"text-muted-foreground mt-4 flex items-center justify-between text-xs",children:[(0,a.jsx)("div",{children:"Total Requests: 1"}),(0,a.jsx)("div",{children:"Avg: 0/week"})]})]})]})]})]}),(0,a.jsxs)(q,{children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium",children:"Actions"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(x.$,{variant:"outline",className:"w-full justify-start",onClick:A,disabled:r,children:[(0,a.jsx)(Z.A,{className:"h-4 w-4"}),"Download Dataset"]}),(0,a.jsxs)(x.$,{variant:"outline",className:"w-full justify-start",onClick:()=>ei.openLocalDirectory(t.uid),children:[(0,a.jsx)(O.A,{}),"View Dataset"]}),(0,a.jsx)(ef,{dataset:t}),(0,a.jsxs)(x.$,{variant:"outline",className:"w-full justify-start text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>p(!0),disabled:r,children:[(0,a.jsx)(J.A,{className:"h-4 w-4"}),"Delete Dataset"]})]})]}),(0,a.jsx)(C,{className:"my-2"}),(0,a.jsx)(x.$,{variant:"outline",onClick:()=>n(!1),className:"w-full",children:"Close"})]})]})}),(0,a.jsx)(h,{open:f,onOpenChange:p,children:(0,a.jsxs)(g,{children:[(0,a.jsxs)(j,{children:[(0,a.jsxs)(b,{className:"flex items-center gap-2",children:[(0,a.jsx)(P.A,{className:"h-5 w-5 text-red-500"}),"Delete Dataset"]}),(0,a.jsxs)(N,{children:["Are you sure you want to delete"," ",(0,a.jsx)("span",{className:"font-semibold",children:t.name}),"? This action cannot be undone."]})]}),(0,a.jsxs)(v,{children:[(0,a.jsx)(w,{children:"Cancel"}),(0,a.jsx)(y,{onClick:()=>t&&S.mutate({datasetName:t.name}),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]}):null}var eg=s(7737),ej=s(2960),ev=s(4213),eb=s(8145),eN=s(5112),ey=s(7580),ew=s(2713),ek=s(9074),eD=s(5880),eC=s(4315);function eS(e){let{children:t,className:s,...n}=e;return(0,a.jsx)("div",{...n,className:(0,r.cn)("flex cursor-default items-center gap-1.5 space-x-1 whitespace-nowrap rounded-sm bg-transparent px-2 py-0.5 text-sm text-muted-foreground transition-colors hover:bg-muted hover:text-foreground [&>svg]:pointer-events-none [&>svg]:mb-px [&>svg]:size-4",s),children:t})}var eA=s(3904);function ez(e){let{dataset:t}=e,s=(0,U.jE)(),n=(0,i.useRef)(null),r=(0,M.n)({mutationFn:ei.syncShopifyDataset,onSuccess:()=>{eh.oR.success("Dataset synced successfully")},onSettled:()=>(n.current&&(n.current.style.animationIterationCount="1"),s.invalidateQueries({queryKey:["datasets"]}))}),{isPending:l}=r;return(0,a.jsxs)(x.$,{size:"sm",variant:"outline",onClick:()=>{(()=>{let e=n.current;if(!e)return;e.classList.remove("animate-spin"),e.offsetHeight,e.style.animationIterationCount="infinite",e.classList.add("animate-spin");let t=()=>{e.classList.remove("animate-spin"),e.removeEventListener("animationend",t)};e.addEventListener("animationend",t)})(),r.mutate(t.uid)},disabled:l,children:[(0,a.jsx)("span",{ref:n,className:"inline-flex duration-500",children:(0,a.jsx)(eA.A,{})}),"Sync"]})}function eE(e){var t,s;let{dataset:i,onSelect:d}=e;return(0,a.jsx)(k.Zp,{children:(0,a.jsxs)(k.Wu,{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-1 flex-col justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-1 flex items-center gap-3",children:[(0,a.jsx)("h3",{className:"cursor-pointer text-xl font-semibold text-blue-600 hover:underline",onClick:d,children:i.name}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsxs)(n.m_,{children:[(0,a.jsx)(n.k$,{asChild:!0,children:(0,a.jsxs)(eb.E,{variant:"secondary",className:"cursor-default gap-2 bg-green-100 text-green-800 transition-colors hover:bg-green-200 hover:text-green-900 dark:bg-green-900 dark:text-green-300 dark:hover:bg-green-800 dark:hover:text-green-100",children:[(0,a.jsx)(eN.A,{size:12})," ",i.type.toUpperCase()]})}),(0,a.jsxs)(n.ZI,{children:["Dataset format: ",i.type.toUpperCase()]})]}),(null==(t=i.source)?void 0:t.type)==="shopify"?(0,a.jsxs)(n.m_,{children:[(0,a.jsx)(n.k$,{asChild:!0,children:(0,a.jsxs)(eb.E,{variant:"outline",className:"hover:bg-muted dark:hover:bg-muted cursor-default gap-2 transition-colors",children:[(0,a.jsx)(eC.M2,{size:14})," Shopify"]})}),(0,a.jsx)(n.ZI,{children:"Dataset linked from Shopify"})]}):null]})]}),(0,a.jsx)(k.BT,{className:"text-muted-foreground text-sm",children:i.description})]}),(0,a.jsxs)("div",{className:"-mb-1 -ml-2 flex flex-wrap gap-1",children:[(0,a.jsxs)(n.m_,{children:[(0,a.jsx)(n.k$,{asChild:!0,children:(0,a.jsxs)(eS,{children:[(0,a.jsx)(ey.A,{className:"h-4 w-4 shrink-0"}),"".concat(i.usersCount," ").concat(1===i.usersCount?"user":"users")]})}),(0,a.jsxs)(n.ZI,{collisionPadding:8,children:[i.usersCount," ",1===i.usersCount?"user has":"users have"," requested access to this dataset"]})]}),(0,a.jsxs)(n.m_,{children:[(0,a.jsx)(n.k$,{asChild:!0,children:(0,a.jsxs)(eS,{children:[(0,a.jsx)(ew.A,{className:"h-4 w-4 shrink-0"}),i.requestsCount," requests"]})}),(0,a.jsxs)(n.ZI,{children:[i.requestsCount," total access",1===i.requestsCount?" request":" requests"]})]}),(0,a.jsxs)(n.m_,{children:[(0,a.jsx)(n.k$,{asChild:!0,children:(0,a.jsxs)(eS,{children:[(0,a.jsx)(ek.A,{className:"h-4 w-4 shrink-0"}),"Updated ",(0,r.fF)(i.lastUpdated.toISOString())]})}),(0,a.jsxs)(n.ZI,{children:["Last updated on"," ",i.lastUpdated.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),(0,a.jsxs)(n.m_,{children:[(0,a.jsx)(n.k$,{asChild:!0,children:(0,a.jsxs)(eS,{children:[(0,a.jsx)(eD.A,{className:"h-4 w-4 shrink-0"}),i.size]})}),(0,a.jsxs)(n.ZI,{children:["The dataset is ",i.size," in size"]})]})]}),i.permissions.length>0?(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:i.permissions.map((e,t)=>(0,a.jsx)(eb.E,{variant:"outline",className:"bg-muted text-xs",children:e},t))}):null]}),(0,a.jsx)("div",{className:"mr-2 flex flex-col justify-end",children:(null==(s=i.source)?void 0:s.type)==="shopify"?(0,a.jsx)(ez,{dataset:i}):null}),(0,a.jsx)(l,{data:i.activityData})]})})}var e$=s(8698);function eL(e){let{...t}=e;return(0,a.jsx)(e$.bL,{"data-slot":"dropdown-menu",...t})}function eR(e){let{...t}=e;return(0,a.jsx)(e$.l9,{"data-slot":"dropdown-menu-trigger",...t})}function eq(e){let{className:t,sideOffset:s=4,...n}=e;return(0,a.jsx)(e$.ZL,{children:(0,a.jsx)(e$.UC,{"data-slot":"dropdown-menu-content",sideOffset:s,className:(0,r.cn)("max-h-(--radix-dropdown-menu-content-available-height) origin-(--radix-dropdown-menu-content-transform-origin) z-50 min-w-32 overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})})}function eF(e){let{className:t,inset:s,variant:n="default",...l}=e;return(0,a.jsx)(e$.q7,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":n,className:(0,r.cn)("[svg]:*:data-[variant=destructive]:text-destructive! outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-inset:pl-8 data-[variant=destructive]:text-destructive data-disabled:opacity-50 data-[variant=destructive]:focus:bg-destructive/10 data-[variant=destructive]:focus:text-destructive dark:data-[variant=destructive]:focus:bg-destructive/20 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0",t),...l})}var e_=s(4616),eI=s(2148),eU=s(3837);function eM(e){let{open:t,onOpenChange:s}=e,n=(0,U.jE)(),r=(0,ex.mN)({resolver:(0,eo.u)(er),defaultValues:{name:"",url:"",pat:"",description:""}}),{setError:l}=r,i=(0,M.n)({mutationFn:ei.addShopifyDataset,onError:e=>{e instanceof ed.ZM&&l(e.loc,{message:e.message}),e instanceof ed.hD&&(0,eh.oR)("Error",{description:e.message})},onSuccess:()=>(s(!1),r.reset(),(0,eh.oR)("Imported data from Shopify"),n.invalidateQueries({queryKey:["datasets"]}))}),{isPending:d}=i;return(0,a.jsx)(V,{open:t,onOpenChange:s,children:(0,a.jsxs)(Q,{className:"sm:max-w-md",children:[(0,a.jsx)(Y,{children:(0,a.jsx)(G,{children:"Import data from your Shopify store"})}),(0,a.jsx)(ee.lV,{...r,children:(0,a.jsxs)("form",{onSubmit:r.handleSubmit(function(e){i.mutate(e)}),className:"flex flex-col gap-5",children:[(0,a.jsx)(ee.zB,{name:"name",render:e=>{let{field:t}=e;return(0,a.jsxs)(ee.eI,{children:[(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)(ee.lR,{children:"Dataset Name *"}),(0,a.jsx)(ee.C5,{className:"absolute top-1 right-0"})]}),(0,a.jsx)(ee.MJ,{children:(0,a.jsx)(et.p,{placeholder:"shopify_data",...t})})]})}}),(0,a.jsx)(ee.zB,{name:"description",render:e=>{let{field:t}=e;return(0,a.jsxs)(ee.eI,{children:[(0,a.jsx)(ee.lR,{children:"Description (optional)"}),(0,a.jsx)(ee.MJ,{children:(0,a.jsx)(es,{placeholder:"Data from ...",...t})})]})}}),(0,a.jsx)(ee.zB,{name:"url",render:e=>{let{field:t}=e;return(0,a.jsxs)(ee.eI,{children:[(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)(ee.lR,{children:"Shopify Store URL *"}),(0,a.jsx)(ee.C5,{className:"absolute top-1 right-0"})]}),(0,a.jsx)(ee.MJ,{children:(0,a.jsx)(et.p,{placeholder:"https://your-store.com",...t})})]})}}),(0,a.jsx)(ee.zB,{name:"pat",render:e=>{let{field:t}=e;return(0,a.jsxs)(ee.eI,{children:[(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)(ee.lR,{children:"Access Token *"}),(0,a.jsx)(ee.C5,{className:"absolute top-1 right-0"})]}),(0,a.jsx)(ee.MJ,{children:(0,a.jsx)(et.p,{placeholder:"shpat_123...",...t})})]})}}),(0,a.jsxs)(H,{children:[(0,a.jsx)(x.$,{type:"button",variant:"outline",onClick:()=>{s(!1),r.reset()},disabled:d,children:"Cancel"}),(0,a.jsx)(x.$,{type:"submit",disabled:d,children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eu.A,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eU.A,{className:"h-4 w-4"}),"Import"]})})]})]})})]})})}var eZ=s(2714),eO=s(9890),eJ=s(1380),eP=s(4395),eV=s(9869),eT=s(2493);let eK=(0,d.F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-8 px-2",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),eB=i.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(eT.bL,{ref:t,className:(0,r.cn)("flex items-center justify-center gap-1",s),...n})});eB.displayName=eT.bL.displayName;let eW=i.forwardRef((e,t)=>{let{className:s,variant:n,size:l,...i}=e;return(0,a.jsx)(eT.q7,{ref:t,className:(0,r.cn)(eK({variant:n,size:l,className:s})),...i})});eW.displayName=eT.q7.displayName;var eQ=s(4331);function eY(e){let{open:t,onOpenChange:s,onSuccess:n}=e,[r,l]=(0,i.useState)(null),[d,o]=(0,i.useState)(null),[m,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(null),[g,j]=(0,i.useState)(""),[v,b]=(0,i.useState)(""),[N,y]=(0,i.useState)(!1),[w,k]=(0,i.useState)(""),[D,C]=(0,i.useState)("file"),[S,A]=(0,i.useState)("file"),{isDragging:z,activeDropZone:E,handleDragEnter:$,handleDragLeave:L,handleDragOver:R,handleDrop:q}=(0,eQ.J)(),F=(0,U.jE)(),_=(0,M.n)({mutationFn:I.K.createDataset,onSuccess:e=>{F.invalidateQueries({queryKey:["datasets"]}),eh.oR.success("New dataset created"),null==n||n()}}),Z=e=>{q(e,"create-dataset",e=>{l(e),j(e.name.replace(/\.[^/.]+$/,""))})},O=e=>{let t=e.target.files;if(t&&t.length>0){h(t),l(t[0]);let e=t[0];e.webkitRelativePath?j(e.webkitRelativePath.split("/")[0]):j(e.name.replace(/\.[^/.]+$/,""))}},J=e=>{let t=e.target.files;t&&t.length>0&&(p(t),o(t[0]))},P=async e=>{if(e.preventDefault(),!m||0===m.length)return void k("Please select a file or folder");if(!g.trim())return void k("Please enter a dataset name");if(!f||0===f.length)return void k("Mock dataset file or folder is required");y(!0),k("");try{let e=new FormData;Array.from(m).forEach(t=>{e.append("dataset",t,t.webkitRelativePath||t.name)}),e.append("name",g.trim()),e.append("description",v.trim()||""),Array.from(f).forEach(t=>{e.append("mock_dataset",t,t.webkitRelativePath||t.name)}),_.mutate(e)}catch(e){k(e instanceof Error?e.message:"Failed to create dataset")}finally{y(!1)}},T=e=>{e||N||(l(null),o(null),h(null),p(null),j(""),b(""),k(""),y(!1)),s(e)};return(0,a.jsx)(V,{open:t,onOpenChange:T,children:(0,a.jsxs)(Q,{className:"sm:max-w-md",onDragEnter:e=>$(e,"create-dataset"),onDragLeave:e=>L(e,"create-dataset"),onDragOver:e=>R(e,"create-dataset"),onDrop:Z,children:[(0,a.jsxs)(Y,{children:[(0,a.jsx)(G,{children:"Create New Dataset"}),(0,a.jsx)(X,{children:"Get started by uploading your dataset file."})]}),(0,a.jsxs)("form",{onSubmit:P,className:"space-y-4",onDragEnter:e=>$(e,"create-dataset"),onDragLeave:e=>L(e,"create-dataset"),onDragOver:e=>R(e,"create-dataset"),onDrop:Z,children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(eZ.J,{htmlFor:"dataset-file",children:"Dataset *"}),(0,a.jsxs)(eB,{type:"single",value:D,onValueChange:e=>{e&&(C(e),l(null),h(null))},children:[(0,a.jsxs)(eW,{value:"file",size:"sm",children:[(0,a.jsx)(eO.A,{className:"mr-1 h-3 w-3"}),"Single file"]}),(0,a.jsxs)(eW,{value:"folder",size:"sm",children:[(0,a.jsx)(eJ.A,{className:"mr-1 h-3 w-3"}),"Entire folder"]})]})]}),(0,a.jsxs)("div",{className:"relative rounded-lg border-2 border-dashed p-6 text-center transition-colors ".concat("create-dataset"===E&&z?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50"),children:["file"===D?(0,a.jsx)("input",{id:"dataset-file",type:"file",onChange:O,className:"hidden",multiple:!0}):(0,a.jsx)("input",{id:"dataset-folder",type:"file",onChange:O,className:"hidden",webkitdirectory:"",directory:"",multiple:!0}),(0,a.jsx)("label",{htmlFor:"file"===D?"dataset-file":"dataset-folder",className:"block cursor-pointer",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eP.A,{className:"text-muted-foreground mx-auto h-8 w-8"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-primary font-medium hover:underline",children:"create-dataset"===E&&z?"Drop your file here":"Drop your file here or click to select"}),(0,a.jsxs)("p",{className:"text-muted-foreground mt-1",children:["Choose your dataset ",D]})]})]})})]}),m&&(0,a.jsxs)("p",{className:"text-muted-foreground text-sm",children:["Selected: ",m.length>1?"".concat(m.length," files"):null==r?void 0:r.name]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(eZ.J,{htmlFor:"mock-dataset-file",children:"Mock Dataset *"}),(0,a.jsxs)(eB,{type:"single",value:S,onValueChange:e=>{e&&(A(e),o(null),p(null))},children:[(0,a.jsxs)(eW,{value:"file",size:"sm",children:[(0,a.jsx)(eO.A,{className:"mr-1 h-3 w-3"}),"Single file"]}),(0,a.jsxs)(eW,{value:"folder",size:"sm",children:[(0,a.jsx)(eJ.A,{className:"mr-1 h-3 w-3"}),"Entire folder"]})]})]}),(0,a.jsxs)("div",{className:"relative rounded-lg border-2 border-dashed p-6 text-center transition-colors ".concat("create-mock-dataset"===E&&z?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50"),onDragEnter:e=>$(e,"create-mock-dataset"),onDragLeave:e=>L(e,"create-mock-dataset"),onDragOver:e=>R(e,"create-mock-dataset"),onDrop:e=>{q(e,"create-mock-dataset",e=>{o(e)})},children:["file"===S?(0,a.jsx)("input",{id:"mock-dataset-file",type:"file",onChange:J,className:"hidden",multiple:!0}):(0,a.jsx)("input",{id:"mock-dataset-folder",type:"file",onChange:J,className:"hidden",webkitdirectory:"",directory:"",multiple:!0}),(0,a.jsx)("label",{htmlFor:"file"===S?"mock-dataset-file":"mock-dataset-folder",className:"block cursor-pointer",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eP.A,{className:"text-muted-foreground mx-auto h-8 w-8"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-primary font-medium hover:underline",children:"create-mock-dataset"===E&&z?"Drop your mock file here":"Drop your mock file here or click to select"}),(0,a.jsxs)("p",{className:"text-muted-foreground mt-1",children:["Choose your mock dataset ",S]})]})]})})]}),f&&(0,a.jsxs)("p",{className:"text-muted-foreground text-sm",children:["Selected: ",f.length>1?"".concat(f.length," files"):null==d?void 0:d.name]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eZ.J,{htmlFor:"name",children:"Dataset Name *"}),(0,a.jsx)(et.p,{id:"name",value:g,onChange:e=>j(e.target.value),placeholder:"Enter dataset name",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eZ.J,{htmlFor:"description",children:"Description (optional)"}),(0,a.jsx)(et.p,{id:"description",value:v,onChange:e=>b(e.target.value),placeholder:"Brief description of the dataset"})]}),w&&(0,a.jsx)(c,{variant:"destructive",children:(0,a.jsx)(u,{className:"break-all",children:w})}),(0,a.jsxs)(H,{children:[(0,a.jsx)(x.$,{type:"button",variant:"outline",onClick:()=>T(!1),disabled:N,children:"Cancel"}),(0,a.jsx)(x.$,{type:"submit",disabled:N,children:N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eu.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eV.A,{className:"mr-2 h-4 w-4"}),"Create Dataset"]})})]})]})]})})}function eH(){let[e,t]=(0,i.useState)(!1),[s,n]=(0,i.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(eL,{children:[(0,a.jsx)(eR,{asChild:!0,children:(0,a.jsxs)(x.$,{size:"sm",children:[(0,a.jsx)(e_.A,{}),"Add a Dataset"]})}),(0,a.jsxs)(eq,{align:"end",children:[(0,a.jsxs)(eF,{className:"cursor-pointer px-3",onSelect:()=>n(!0),children:[(0,a.jsx)(eI.A,{className:"size-4"}),"Add from a local file"]}),(0,a.jsxs)(eF,{className:"cursor-pointer px-3",onSelect:()=>t(!0),children:[(0,a.jsx)(eC.M2,{className:"size-4"}),"Import from Shopify"]})]})]}),(0,a.jsx)(eM,{open:e,onOpenChange:t}),(0,a.jsx)(eY,{open:s,onOpenChange:n,onSuccess:()=>n(!1)})]})}function eG(){let[e,t]=(0,i.useState)(null),[s,n]=(0,i.useState)(!1),{isPending:r,data:l}=(0,ej.I)({queryKey:["datasets"],queryFn:()=>ei.getDatasets()});return(0,i.useEffect)(()=>{if(!e||!l)return;let s=l.datasets.find(t=>t.uid===e.uid);s&&t(s)},[l]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Datasets"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Manage your cooperative's data assets"})]}),(0,a.jsx)(eH,{})]}),r||!l?(0,a.jsx)(eX,{}):(0,a.jsx)("div",{className:"space-y-4",children:0===l.datasets.length?(0,a.jsxs)("div",{className:"mx-auto flex h-96 max-w-md flex-col items-center justify-center",children:[(0,a.jsx)(ev.A,{className:"text-muted-foreground mb-6 size-16",strokeWidth:1.5}),(0,a.jsx)("h3",{className:"text-foreground text-lg font-medium",children:"No datasets found"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6",children:"Add a new dataset to get started"})]}):l.datasets.map(e=>(0,a.jsx)(eE,{dataset:e,onSelect:()=>{t(e),n(!0)}},e.uid))}),(0,a.jsx)(ep,{dataset:e,open:s,onOpenChange:()=>{n(!1),setTimeout(()=>t(null),350)}})]})}function eX(){return(0,a.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(k.Zp,{children:(0,a.jsxs)(k.Wu,{className:"flex justify-between p-6",children:[(0,a.jsxs)("div",{className:"flex w-2/3 flex-col justify-between gap-1",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eg.E,{className:"bg-muted h-6 w-1/3 rounded"}),(0,a.jsx)(eg.E,{className:"bg-muted h-4 w-2/3 rounded"})]}),(0,a.jsxs)("div",{className:"flex h-4 gap-2",children:[(0,a.jsx)(eg.E,{className:"h-full w-20"}),(0,a.jsx)(eg.E,{className:"h-full w-20"}),(0,a.jsx)(eg.E,{className:"h-full w-48"}),(0,a.jsx)(eg.E,{className:"h-full w-20"})]})]}),(0,a.jsx)(eg.E,{className:"bg-muted h-24 w-64 rounded"})]})},t))})}}},e=>{e.O(0,[446,574,530,306,841,913,441,964,358],()=>e(e.s=4849)),_N_E=e.O()}]);